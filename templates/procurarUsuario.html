<!DOCTYPE html>
<html lang="pt-br">
<head>
	<meta charset="utf-8">
	<title>Procurar Usu√°rio</title>
	<style>
		:root {
			--primary-color: #00a4a4;
			--primary-hover: #00d2d2;
			--bg-color: #f4f8f9;
			--card-bg: #ffffff;
			--text-color: #333;
			--shadow: 0 4px 10px rgba(0,0,0,0.1);
		}

		* {
			box-sizing: border-box;
			margin: 0;
			padding: 0;
		}

		body {
			font-family: "Segoe UI", Roboto, Arial, sans-serif;
			background-color: var(--bg-color);
			color: var(--text-color);
			display: flex;
			flex-direction: column;
			align-items: center;
			justify-content: center;
			min-height: 100vh;
		}

		h1 {
			text-align: center;
			color: var(--primary-color);
			margin-bottom: 1.5rem;
			font-weight: 600;
			letter-spacing: 0.5px;
		}

		.container {
			background: var(--card-bg);
			box-shadow: var(--shadow);
			border-radius: 12px;
			padding: 2rem 2.5rem;
			width: 100%;
			max-width: 480px;
			text-align: center;
		}

		form {
			display: flex;
			flex-direction: column;
			gap: 1rem;
			text-align: left;
		}

		label {
			font-weight: 500;
			color: #444;
		}

		input {
			width: 100%;
			padding: 0.6rem 0.8rem;
			border: 1px solid #ccc;
			border-radius: 6px;
			transition: border-color 0.2s ease, box-shadow 0.2s ease;
		}

		input:focus {
			border-color: var(--primary-color);
			outline: none;
			box-shadow: 0 0 5px rgba(0,164,164,0.3);
		}

		input[disabled] {
			background: #f0f0f0;
			color: #555;
		}

		button {
			margin-top: 0.5rem;
			padding: 0.75rem;
			background: var(--primary-color);
			color: white;
			border: none;
			border-radius: 8px;
			font-weight: 600;
			cursor: pointer;
			transition: all 0.2s ease;
		}

		button:hover {
			background: var(--primary-hover);
			transform: translateY(-1px);
			box-shadow: var(--shadow);
		}

		#mensagem {
			margin-top: 1rem;
			font-weight: 600;
			color: var(--primary-color);
			min-height: 1.25rem;
			text-align: center;
		}

		#displayUsuario {
			margin-top: 2rem;
			padding: 1rem 1.25rem;
			border-radius: 10px;
			background: #e8f7f7;
			box-shadow: inset 0 0 5px rgba(0,0,0,0.05);
			text-align: left;
		}

		#displayUsuario h2 {
			text-align: center;
			margin-bottom: 1rem;
			color: #008080;
			font-size: 1.1rem;
		}

		.actions {
			display: flex;
			flex-wrap: wrap;
			gap: 0.5rem;
			justify-content: center;
			margin-bottom: 1.5rem;
		}

		.actions a {
			text-decoration: none;
			color: var(--primary-color);
			background: #e8f7f7;
			padding: 0.5rem 0.8rem;
			border-radius: 6px;
			font-weight: 500;
			transition: all 0.2s ease;
		}

		.actions a:hover {
			background: var(--primary-hover);
			color: white;
			transform: translateY(-1px);
			box-shadow: var(--shadow);
		}

		footer {
			margin-top: 2rem;
			font-size: 0.85rem;
			color: #888;
		}
	</style>
</head>
<body>
	<div class="container">
		<h1>üîç Procurar Usu√°rio</h1>

		<div class="actions">
			<a href="/">üè† In√≠cio</a>
			<a href="/criarUsuarios">üë§ Criar</a>
			<a href="/verUsuarios">üìã Listar</a>
			<a href="/atualizarUsuario">‚úèÔ∏è Atualizar</a>
			<a href="/excluirUsuario">üóëÔ∏è Excluir</a>
		</div>

		<form id="procuraUsuario">
			<label for="idUsuario">ID do Usu√°rio</label>
			<input type="number" id="idUsuario" name="idUsuario" placeholder="Digite o ID" required>
			<button type="submit">Procurar</button>
		</form>

		<div id="mensagem" role="status" aria-live="polite"></div>

		<div id="displayUsuario">
			<h2>Informa√ß√µes do Usu√°rio</h2>
			<label for="nomeInput">Nome</label>
			<input type="text" id="nomeInput" name="nomeInput" disabled>

			<label for="emailInput">Email</label>
			<input type="email" id="emailInput" name="emailInput" disabled>
		</div>
	</div>

	<footer>Flask CRUD ‚Ä¢ Consulta de registros</footer>

	<script>
	(function(){
		const form = document.getElementById('procuraUsuario');
		const nomeInput = document.getElementById('nomeInput');
		const emailInput = document.getElementById('emailInput');
		const msg = document.getElementById('mensagem');

		form.addEventListener('submit', async (e) => {
			e.preventDefault();
			msg.textContent = '';
			nomeInput.value = 'Carregando...';
			emailInput.value = 'Carregando...';

			const IdUsuario = document.getElementById('idUsuario').value.trim();

			if(!IdUsuario){
				msg.textContent = '‚ö†Ô∏è Informe o ID do usu√°rio.';
				return;
			}

			try {
				const response = await fetch(`/users/${IdUsuario}`);

				if(response.ok){
					const usuario = await response.json();
					msg.textContent = '‚úÖ Usu√°rio encontrado!';
					nomeInput.value = usuario.nome;
					emailInput.value = usuario.email;
					form.reset();
				} else {
					msg.textContent = `‚ùå Usu√°rio n√£o encontrado (ID: ${IdUsuario}).`;
					nomeInput.value = '';
					emailInput.value = '';
				}
			} catch(err){
				msg.textContent = '‚ùå Erro de rede: ' + (err.message || err);
				nomeInput.value = '';
				emailInput.value = '';
			}
		});
	})();
	</script>
</body>
</html>
